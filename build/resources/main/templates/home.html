<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrinkto-fit=no">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

    <title>oEmbed Test</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link href="../resources/css/style.css" rel="stylesheet">

    <script src="../resources/js/javascript.js"></script>

</head>

<body style="overflow:auto;">
    <div style="text-align:center; height: 100%">

        <!-- floating banner -->
        <div class="list-group sideBanner">
            <div class="list-group-item list-group-item-action" style="background-color: #E2E2E2;" aria-current="true">
                검색 기록
            </div>
            <th:block th:if="${searchHistory != null}" th:each="history : ${searchHistory}">
                <input type="hidden" th:value="${history.id}"/>
                <a th:href="@{/search(url=${history.url})}" class="list-group-item list-group-item-action text-truncate" th:text="${history.url}"></a>
            </th:block>
        </div>

        <div style="text-align:center; display: inline-block; width: 50%;">

            <!-- bodyHeader start -->
            <div style="background-color:#36AAB6; text-align: center;">
                <br/>
                <br/>
                <a href="/" style="text-decoration : none;"><h3 style="color: #FFFFFF;">oEmbed Test</h3></a>
                <form action="/search" method="get">
                    <div class="border" style="background-color: #FFFFFF; width: 94%; display: inline-block; margin: 2%">
                        <img src="../resources/img/search.png" style="width: 4%; float: left; margin: 1%;">
                        <input type="text" class="searchBar" name="url" required>
                        <button type="submit" class="okButton">확인</button>
                    </div>
                </form>

            </div>
            <!-- bodyHeader end -->

            <!-- body start -->
            <div class="body">
                <div class="bodyTable border">
                    <div class="oEmbed">
                        <table class="table table-striped" style="height: 100%">
                            <tbody>
                            <tr th:if = "${response.valid != null}">
                                <th scope="row">warning</th>
                                <td colspan="4">
                                    <div th:text="${response.valid}"></div>
                                </td>
                            </tr>
                            <tr th:if = "${response.url != null}">
                                <th scope="row">url</th>
                                <td colspan="4">
                                    <a th:href="@{${response.url}}" th:text="${response.url}" target='_blank'></a>
                                </td>
                            </tr>
                            <tr th:if = "${response.title != null}">
                                <th scope="row">title</th>
                                <td colspan="4" th:text="${response.title}"></td>
                            </tr>
                            <tr th:if = "${response.type != null}">
                                <th scope="row">type</th>
                                <td colspan="4" th:text="${response.type}"></td>
                            </tr>
                            <tr th:if = "${response.version != null}">
                                <th scope="row">version</th>
                                <td colspan="4" th:text="${response.version}"></td>
                            </tr>
                            <tr th:if = "${response.provider_name != null}">
                                <th scope="row">provider_name</th>
                                <td colspan="4" th:text="${response.provider_name}"></td>
                            </tr>
                            <tr th:if = "${response.provider_url != null}">
                                <th scope="row">provider_url</th>
                                <td colspan="4"><a th:href="@{${response.provider_url}}" th:text="${response.provider_url}" target='_blank'></a></td>
                            </tr>
                            <tr th:if = "${response.author_name != null}">
                                <th scope="row">author_name</th>
                                <td colspan="4" th:text="${response.author_name}"></td>
                            </tr>
                            <tr th:if = "${response.author_url != null}">
                                <th scope="row">author_url</th>
                                <td colspan="4"><a th:href="@{${response.author_url}}" th:text="${response.author_url}" target='_blank'></a></td>
                            </tr>
                            <tr th:if = "${response.html != null}">
                                <th scope="row">
                                    <div>html</div>
                                    <div>
                                        <span>(</span>
                                        <span th:text="${response.width}"></span>
                                        <span>/</span>
                                        <span th:text="${response.height}"></span>
                                        <span>)</span>
                                    </div>
                                </th>
                                <td>
                                    <div th:text="${response.html}"></div>
                                    <div th:utext="${response.html}"></div>
                                </td>
                            </tr>
                            <tr th:if = "${response.width != null}">
                                <th scope="row">width</th>
                                <td colspan="4" th:text="${response.width}"></td>
                            </tr>
                            <tr th:if = "${response.height != null}">
                                <th scope="row">height</th>
                                <td colspan="4" th:text="${response.height}"></td>
                            </tr>
                            <tr th:if = "${response.thumbnail_url != null}">
                                <th scope="row">
                                    <div>thumbnail_url</div>
                                    <div>
                                        <span>(</span>
                                        <span th:text="${response.thumbnail_width}"></span>
                                        <span>x</span>
                                        <span th:text="${response.thumbnail_height}"></span>
                                        <span>)</span>
                                    </div>
                                </th>
                                <td colspan="4">
                                    <a th:href="@{${response.thumbnail_url}}" th:text="${response.thumbnail_url}" target='_blank'></a>
                                    <img th:src="${response.thumbnail_url}">
                                </td>
                            </tr>
                            <tr th:if = "${response.thumbnail_width != null}">
                                <th scope="row">thumbnail_width</th>
                                <td colspan="4" th:text="${response.thumbnail_width}"></td>
                            </tr>
                            <tr th:if = "${response.thumbnail_height != null}">
                                <th scope="row">thumbnail_height</th>
                                <td colspan="4" th:text="${response.thumbnail_height}"></td>
                            </tr>
                            <tr th:if = "${response.cache_age != null}">
                                <th scope="row">cache_age</th>
                                <td colspan="4" th:text="${response.cache_age}"></td>
                            </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- body end -->

        </div> <!-- /container -->
    </div>
</body>
</html>